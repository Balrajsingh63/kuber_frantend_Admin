{"ast":null,"code":"import{useState}from\"react\";import{Button,Card,CardBody,FormGroup,Form,Input,InputGroupAddon,InputGroupText,InputGroup,Row,Col}from\"reactstrap\";import{ApiURL}from\"../../services/apiConstants\";import{post}from\"../../services/services\";import{useDispatch}from\"react-redux\";import{setUser}from\"../../redux/Slice/Slice\";import{SuccessToast,ErrorToast}from\"../../Helper/Toast\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Login=()=>{const despatch=useDispatch();const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[checkBox,setCheckBox]=useState('');const[emailError,setEmailError]=useState('');const[passwordError,setPasswordError]=useState('');const[checkBoxError,setCheckBoxError]=useState('');const userLogin=()=>{const formData={email:email,password:password};post(ApiURL.login,formData).then(res=>{if(res&&(res===null||res===void 0?void 0:res.status)==true){let user_data=res===null||res===void 0?void 0:res.data;let token=user_data.token;localStorage.setItem('token',token);SuccessToast(res===null||res===void 0?void 0:res.message);despatch(setUser(user_data));}else{ErrorToast(res===null||res===void 0?void 0:res.message);}});};const handleSubmit=()=>{if(checkValidation()==false){return;}else{userLogin();}};const checkValidation=()=>{const emailRegex=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i;const isValidEmail=emailRegex.test(email);if(email==''){setEmailError('Email is required !');return false;}else if(password==''){setPasswordError('Password is required !');return false;}else if(checkBox==''){setCheckBoxError('CheckBox is required !');return false;}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Col,{lg:\"5\",md:\"7\",children:[/*#__PURE__*/_jsx(Card,{className:\"bg-secondary shadow border-0\",children:/*#__PURE__*/_jsxs(CardBody,{className:\"px-lg-5 py-lg-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-muted mb-4\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Sign in with credentials\"})}),/*#__PURE__*/_jsxs(Form,{role:\"form\",children:[/*#__PURE__*/_jsxs(FormGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(InputGroup,{className:\"input-group-alternative\",children:[/*#__PURE__*/_jsx(InputGroupAddon,{addonType:\"prepend\",children:/*#__PURE__*/_jsx(InputGroupText,{children:/*#__PURE__*/_jsx(\"i\",{className:\"ni ni-email-83\"})})}),/*#__PURE__*/_jsx(Input,{placeholder:\"Email\",type:\"email\",autoComplete:\"new-email\",onChange:e=>{setEmail(e.target.value);},value:email})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'red',fontSize:15},children:email==''?emailError:''})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsxs(InputGroup,{className:\"input-group-alternative\",children:[/*#__PURE__*/_jsx(InputGroupAddon,{addonType:\"prepend\",children:/*#__PURE__*/_jsx(InputGroupText,{children:/*#__PURE__*/_jsx(\"i\",{className:\"ni ni-lock-circle-open\"})})}),/*#__PURE__*/_jsx(Input,{placeholder:\"Password\",type:\"password\",autoComplete:\"new-password\",onChange:e=>{setPassword(e.target.value);},value:password})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'red',fontSize:15},children:password==''?passwordError:''})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-control custom-control-alternative custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"custom-control-input\",id:\" customCheckLogin\",type:\"checkbox\",onChange:e=>{setCheckBox(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"custom-control-label\",htmlFor:\" customCheckLogin\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"Remember me\"})}),/*#__PURE__*/_jsx(\"p\",{style:{color:'red',fontSize:15},children:checkBox==''?checkBoxError:''})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Button,{className:\"my-4\",color:\"primary\",type:\"button\",onClick:handleSubmit,children:\"Sign in\"})})]})]})}),/*#__PURE__*/_jsxs(Row,{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Col,{xs:\"6\",children:/*#__PURE__*/_jsx(\"a\",{className:\"text-light\",href:\"#pablo\",onClick:e=>e.preventDefault(),children:/*#__PURE__*/_jsx(\"small\",{children:\"Forgot password?\"})})}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",xs:\"6\",children:/*#__PURE__*/_jsx(\"a\",{className:\"text-light\",href:\"#pablo\",onClick:e=>e.preventDefault(),children:/*#__PURE__*/_jsx(\"small\",{children:\"Create new account\"})})})]})]})});};export default Login;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}