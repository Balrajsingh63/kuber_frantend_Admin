{"ast":null,"code":"import{Button,Card,CardHeader,CardBody,FormGroup,Form,Input,Container,Row,Col,DropdownMenu,DropdownItem,Dropdown,DropdownToggle}from\"reactstrap\";import UserHeader from\"components/Headers/UserHeader.js\";import React,{useEffect,useState}from\"react\";import{post}from\"services/services\";import{SuccessToast}from\"Helper/Toast\";import{ErrorToast}from\"Helper/Toast\";import{ApiURL}from\"services/apiConstants\";import{useNavigate}from\"react-router-dom\";import{get}from\"services/services\";import{socket}from\"services/socket\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const GameResultScreen=()=>{const navigate=useNavigate();const[drop,setDrop]=useState('');const[resultTime,setResultTime]=useState('');const[dropdownOpen,setDropdownOpen]=useState(false);const[gameData,setGameData]=useState([]);const toggle=()=>setDropdownOpen(prevState=>!prevState);const[isConnected,setIsConnected]=useState(socket.connected);const getUser_List=()=>{get(ApiURL.game_List).then(res=>{console.log(\"res?.data\",res);if(res&&(res===null||res===void 0?void 0:res.status)===true){setGameData(res===null||res===void 0?void 0:res.data);console.log(\"res?.data\",res===null||res===void 0?void 0:res.data);}});};useEffect(()=>{getUser_List();},[]);const addGame=()=>{// const formData = {\n//   gameId: drop,\n//   number: resultTime,\n// };\nsocket.emit('result',{startTime:null,endTime:null,number:resultTime,resultTime:null,gameId:drop});// post(ApiURL.GameResult, formData).then(res => {\n//   if (res && res?.data?.status == \"active\") {\n//     SuccessToast(res?.message)\n//   } else {\n//     ErrorToast(res?.message)\n//   }\n// });\n};const handleSubmit=()=>{if(checkValidation()==false){return;}else{addGame();}};const checkValidation=()=>{if(drop==''){ErrorToast('Game Name is required !');return false;}else if(resultTime==''){ErrorToast('Result Time is required !');return false;}};useEffect(()=>{function onConnect(){setIsConnected(true);}function onDisconnect(){setIsConnected(false);}function onFooEvent(value){}socket.on('connection',onConnect);socket.on('disconnect',onDisconnect);socket.on('result_reload',data=>{if((data===null||data===void 0?void 0:data.status)===true){SuccessToast(\"result success\");}else{ErrorToast(\"result error\");}});socket.on('Error',error=>{console.log('error **** ',error);});socket.on('foo',onFooEvent);return()=>{socket.off('connect',onConnect);socket.off('disconnect',onDisconnect);socket.off('foo',onFooEvent);};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(UserHeader,{}),/*#__PURE__*/_jsx(Container,{className:\"mt--7\",fluid:true,children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{className:\"order-xl-1\",xl:\"12\",children:/*#__PURE__*/_jsxs(Card,{className:\"bg-secondary shadow\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"bg-white border-0\",children:/*#__PURE__*/_jsx(Row,{className:\"align-items-center\",children:/*#__PURE__*/_jsx(Col,{xs:\"8\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:\"Add Games Result\"})})})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"heading-small text-muted mb-4\",children:\"User Add Games Result information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pl-lg-4\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-control-label\",htmlFor:\"input-gameName\",children:\"Game Name\"}),/*#__PURE__*/_jsxs(Input,{id:\"exampleSelect\",name:\"status\",type:\"select\",value:drop,onChange:e=>{setDrop(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",selected:true,disabled:true,children:\"Game Name Selected\"}),gameData.map(item=>{return/*#__PURE__*/_jsx(\"option\",{value:\"Active\",children:item===null||item===void 0?void 0:item.name});})]})]})}),/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-control-label\",htmlFor:\"input-number\",children:\"Result Time\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control-alternative\",id:\"input-number\",placeholder:\"Result\",type:\"text\",onChange:e=>{setResultTime(e.target.value);},value:resultTime})]})})]}),/*#__PURE__*/_jsx(Button,{color:\"info\",href:\"#pablo\",onClick:handleSubmit,size:\"lg\",style:{alignSelf:'center'},children:\"Game Result\"})]})]})})]})})})})]});};export default GameResultScreen;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}