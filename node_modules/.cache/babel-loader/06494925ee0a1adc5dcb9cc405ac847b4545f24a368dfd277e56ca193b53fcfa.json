{"ast":null,"code":"import{Card,CardHeader,CardBody,Container,Row,Col,Pagination,PaginationItem,PaginationLink,Modal,Button,FormGroup,Input}from\"reactstrap\";import Header from\"components/Headers/Header.js\";import{useEffect,useState}from\"react\";import{get,put}from\"../../services/services\";import{ApiURL}from\"../../services/apiConstants\";import GameListTables from\"components/Tables/GameListTable\";import{SuccessToast}from\"Helper/Toast\";import{ErrorToast}from\"Helper/Toast\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const GameRequestList=()=>{const[gameData,setGameData]=useState([]);const[currentPage,setCurrentPage]=useState(1);const[recordsPerPage]=useState(10);const indexOfLastRecord=currentPage*recordsPerPage;const indexOfFirstRecord=indexOfLastRecord-recordsPerPage;const currentRecords=gameData.slice(indexOfFirstRecord,indexOfLastRecord);const totalPages=Math.ceil(gameData.length/recordsPerPage);const pageNumbers=Array.from({length:totalPages},(_,i)=>i+1);const[exampleModal,setExampleModal]=useState(false);const[name,setName]=useState(\"\");const[resultTime,setResultTime]=useState(\"\");const[openTime,setOpenTime]=useState(\"\");const[closeTime,setCloseTime]=useState(\"\");const[gameId,setGameId]=useState(\"\");useEffect(()=>{getGame_List();},[]);const handleUpdateGame=()=>{const formData={name:name,resultTime:resultTime,startTime:openTime,endTime:closeTime};put(ApiURL.update_Game+\"/\"+gameId,formData).then(res=>{if(res&&(res===null||res===void 0?void 0:res.status)===true){SuccessToast(res===null||res===void 0?void 0:res.message);getGame_List();toggleModal();}else{ErrorToast(res===null||res===void 0?void 0:res.message);}});};const goToPrevPage=()=>{if(currentPage>1){setCurrentPage(currentPage-1);}};const goToNextPage=()=>{if(currentPage<totalPages){setCurrentPage(currentPage+1);}};const getGame_List=()=>{get(ApiURL.game_List).then(res=>{// console.log(\"All Game list\", res)\nif(res&&(res===null||res===void 0?void 0:res.status)===true){setGameData(res===null||res===void 0?void 0:res.data);}});};const toggleModal=()=>{setExampleModal(!exampleModal);};const goToPage=page=>{setCurrentPage(page);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Container,{className:\"mt--7\",fluid:true,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(Card,{className:\"shadow\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"bg-white border-0\",children:/*#__PURE__*/_jsx(Row,{className:\"align-items-center\",children:/*#__PURE__*/_jsx(Col,{xs:\"8\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:\"Game List\"})})})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Row,{className:\"icon-examples\",children:/*#__PURE__*/_jsx(GameListTables,{game_data:currentRecords,getGame_List:getGame_List,toggleModal:toggleModal,exampleModal:exampleModal,setExampleModal:setExampleModal,setResultTime:setResultTime,setOpenTime:setOpenTime,setCloseTime:setCloseTime,setName:setName,setGameId:setGameId})})})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 ml-3\",children:/*#__PURE__*/_jsxs(Pagination,{children:[/*#__PURE__*/_jsx(PaginationItem,{children:/*#__PURE__*/_jsx(PaginationLink,{first:true,onClick:()=>goToPage(1)})}),/*#__PURE__*/_jsx(PaginationItem,{children:/*#__PURE__*/_jsx(PaginationLink,{previous:true,onClick:goToPrevPage})}),pageNumbers.map(page=>/*#__PURE__*/_jsx(PaginationItem,{active:page===currentPage,children:/*#__PURE__*/_jsx(PaginationLink,{onClick:()=>goToPage(page),children:page})},page)),/*#__PURE__*/_jsx(PaginationItem,{children:/*#__PURE__*/_jsx(PaginationLink,{next:true,onClick:goToNextPage})}),/*#__PURE__*/_jsx(PaginationItem,{children:/*#__PURE__*/_jsx(PaginationLink,{last:true,onClick:()=>goToPage(totalPages)})})]})})})]}),/*#__PURE__*/_jsxs(Modal,{className:\"modal-dialog-centered\",isOpen:exampleModal,toggle:toggleModal,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Edit Game\"}),/*#__PURE__*/_jsx(\"button\",{\"aria-label\":\"Close\",className:\"close\",\"data-dismiss\":\"modal\",type:\"button\",onClick:toggleModal,children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":true,children:\"\\xD7\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-control-label\",htmlFor:\"input-gameName\",children:\"Game Name\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control-alternative\",defaultValue:\"Kuber\",id:\"input-GameName\",placeholder:\"Game Name\",type:\"text\",onChange:e=>{setName(e.target.value);},value:name})]})}),/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-control-label\",htmlFor:\"input-number\",children:\"Result Time\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control-alternative\",id:\"input-number\",placeholder:\"Result\",type:\"time\",onChange:e=>{setResultTime(e.target.value);},value:resultTime})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-control-label\",htmlFor:\"input-start-time\",children:\"Open Time\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control-alternative\",defaultValue:\"Open Time\",id:\"input-start-time\",placeholder:\"Open Time\",type:\"time\",onChange:e=>{setOpenTime(e.target.value);},value:openTime})]})}),/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-control-label\",htmlFor:\"input-end-time\",children:\"Close Time\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control-alternative\",defaultValue:\"Close Time\",id:\"input-end-time\",placeholder:\"Close Time\",type:\"time\",onChange:e=>{setCloseTime(e.target.value);},value:closeTime})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",\"data-dismiss\":\"modal\",type:\"button\",onClick:toggleModal,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",type:\"button\",onClick:handleUpdateGame,children:\"Save changes\"})]})]})]});};export default GameRequestList;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}