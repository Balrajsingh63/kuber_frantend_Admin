{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Row,Card,CardHeader,CardBody,Pagination,PaginationItem,PaginationLink,Modal,Col,FormGroup,Input,Button,Label}from'reactstrap';import Header from'components/Headers/Header';import Tables from'components/Tables/Table';import{get}from'services/services';import{ApiURL}from'services/apiConstants';import{put}from'services/services';import{SuccessToast}from'Helper/Toast';import{ErrorToast}from'Helper/Toast';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const UserManagement=()=>{const[userData,setUserData]=useState([]);const[currentPage,setCurrentPage]=useState(1);const[recordsPerPage]=useState(10);const[visible,setVisible]=useState(false);const[name,setName]=useState(\"\");const[phone,setPhone]=useState(\"\");const[userId,setUserId]=useState(\"\");const[status,setStatus]=useState(\"active\");const getUserList=()=>{get(ApiURL.user_List).then(res=>{if(res&&res.status===true){setUserData(res.data);}});};useEffect(()=>{getUserList();},[]);const indexOfLastRecord=currentPage*recordsPerPage;const indexOfFirstRecord=indexOfLastRecord-recordsPerPage;const currentRecords=userData.slice(indexOfFirstRecord,indexOfLastRecord);const totalPages=Math.ceil(userData.length/recordsPerPage);const pageNumbers=Array.from({length:totalPages},(_,i)=>i+1);const toggleModal=()=>{setVisible(!visible);};const goToPage=page=>{setCurrentPage(page);};const goToPrevPage=()=>{if(currentPage>1){setCurrentPage(currentPage-1);}};const goToNextPage=()=>{if(currentPage<totalPages){setCurrentPage(currentPage+1);}};const handleUpdateGame=()=>{const formData={name:name,mobile:phone,status:status};put(ApiURL.user_update+\"/\"+userId,formData).then(res=>{if(res&&(res===null||res===void 0?void 0:res.status)==true){SuccessToast(res===null||res===void 0?void 0:res.message);getUserList();toggleModal();}else{ErrorToast(res===null||res===void 0?void 0:res.message);}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Container,{className:\"mt--7\",fluid:true,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(Card,{className:\"shadow\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"bg-transparent\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:\"User Management\"})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Row,{className:\"icon-examples\",children:/*#__PURE__*/_jsx(Tables,{user_data:currentRecords,toggleModal:toggleModal,getUserList:getUserList,setVisible:setVisible,visible:visible,setName:setName,setUserId:setUserId,setStatus:setStatus,setPhone:setPhone})})})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 ml-3\",children:/*#__PURE__*/_jsxs(Pagination,{children:[/*#__PURE__*/_jsx(PaginationItem,{children:/*#__PURE__*/_jsx(PaginationLink,{first:true,onClick:()=>goToPage(1)})}),/*#__PURE__*/_jsx(PaginationItem,{children:/*#__PURE__*/_jsx(PaginationLink,{previous:true,onClick:goToPrevPage})}),pageNumbers.map(page=>/*#__PURE__*/_jsx(PaginationItem,{active:page===currentPage,children:/*#__PURE__*/_jsx(PaginationLink,{onClick:()=>goToPage(page),children:page})},page)),/*#__PURE__*/_jsx(PaginationItem,{children:/*#__PURE__*/_jsx(PaginationLink,{next:true,onClick:goToNextPage})}),/*#__PURE__*/_jsx(PaginationItem,{children:/*#__PURE__*/_jsx(PaginationLink,{last:true,onClick:()=>goToPage(totalPages)})})]})})})]}),/*#__PURE__*/_jsxs(Modal,{className:\"modal-dialog-centered\",isOpen:visible,toggle:toggleModal,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Edit Game\"}),/*#__PURE__*/_jsx(\"button\",{\"aria-label\":\"Close\",className:\"close\",\"data-dismiss\":\"modal\",type:\"button\",onClick:toggleModal,children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":true,children:\"\\xD7\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-control-label\",htmlFor:\"input-number\",children:\"Name\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control-alternative\",id:\"input-number\",placeholder:\"Name\",type:\"text\",onChange:e=>{setName(e.target.value);},value:name})]})}),/*#__PURE__*/_jsx(Col,{lg:\"6\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-control-label\",htmlFor:\"input-start-time\",children:\"Phone\"}),/*#__PURE__*/_jsx(Input,{className:\"form-control-alternative\",id:\"input-start-time\",placeholder:\"Mobile number\",type:\"number\",onChange:e=>{setPhone(e.target.value);},value:phone})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:\"12\",children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleSelect\",children:\"Status\"}),/*#__PURE__*/_jsxs(Input,{id:\"exampleSelect\",name:\"status\",type:\"select\",value:status,onChange:e=>{setStatus(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Deactivate\",children:\"Deactive\"})]})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",\"data-dismiss\":\"modal\",type:\"button\",onClick:toggleModal,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",type:\"button\",onClick:handleUpdateGame,children:\"Save changes\"})]})]})]});};export default UserManagement;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}